<form class="form centit">
	<div class="fields two">
		<div class="field required">
			<label>任务名称：</label>
			<input hidden name="taskId" />
			<input type="text" class="easyui-textbox" name="taskName" required />
		</div>
		<div class="field">
			<div class="field">
				<label>任务执行定时器：</label>
				<input type="text" class="easyui-textbox" id="taskCron" name="taskCron"/>
				<a rel="exchangeTask_ExchangeMapinfo_edit_conAdd" class="easyui-linkbutton" data-options="iconCls:'icon-add'" 
				 width="440" height="580" onclick="addCon()">Add</a>
			</div>
		</div>
	</div>
	<div class="fields two">
		<div class="field required">
				<label>任务描述：</label>
				<input type="text" class="easyui-textbox" name="taskDesc" required />
		</div>
		<div class="field ">
			<label>上次执行时间：</label>
			<input type="text" class="easyui-datetimebox" name="lastRunTime" readonly="readonly" />
		</div>
	</div>
	<div class="fields two">
		<div class="field ">
			<label>创建时间：</label>
			<input type="text" class="easyui-datetimebox" name="createTime"  readonly="readonly"/>
		</div>
		<div class="field  required">
			<label>创建人员：</label>
			<input type="text" class="easyui-textbox" name="createdName"  readonly="readonly" />
		</div>
	</div>
</form>
<div class="fields two" style="height:400px;">
	<div title="数据导入内容字段">
			<table id="dlgList" class="tab1" style="width:96%;"
			   pagination="false"
			   border="true"
			   idField="table_exportId"
			   toolbar=".tab1-toolbar">
					<thead>
						<tr>
							<th data-options="field:'mapInfoId'" hidden></th>
							<th data-options="field:'mapInfoName'" style="width: 15%">直接交换名称</th>
							<th data-options="field:'sourceDatabaseName'" style="width: 15%">源数据库名</th>
							<th data-options="field:'destDatabaseName'" style="width: 15%">目标数据库名</th>
							<th data-options="field:'destTableName'" style="width: 15%">目标表名</th>
							<th data-options="field:'isRepeat'" style="width: 10%">是否重复执行</th>
							<th data-options="field:'mapInfoDesc'" style="width: 15%">直接交换说明</th>
						</tr>
					</thead>
			</table>
	</div>
	<div class="tab1-toolbar">
			<a rel="exchangeTask_ExchangeMapinfo_add" href="modules/exchangeTask/exchangeTask-exchangeMapinfo-add.html" iconCls="icon-add"
			   target="dialog" trigger="none" width="740" height="380" title="添加调用接口对应关系" ><p>添加调用接口对应关系</p></a>
			<hr>
			<a rel="exchangeTask_exportSql_edit" iconCls="icon-edit"
			   target="custom" trigger="none" title="编辑"  ><p>编辑</p></a>
			<hr>
			<a rel="exchangeTask_ExchangeTaskdetailId_remove" iconCls="icon-base icon-base-rubbish "
			   target="custom" trigger="single" ><p>删除</p></a>
	</div>
</div>

<!-- addCon dailog -->

<div style="display: none;">
	<div id="dlgaddCon" class="easyui-dialog"  style="width: 560px; height: 360px;" closed="true" buttons="#dlgaddCon-buttons">
       	<div class="easyui-tabs" style="width:98%;height:200px;padding-left:6px;" >
			<div title="按分钟" style="padding:5px;background-color:#E0ECFF">
				 <div>
	                <table>
	                    <tr>
	                        <td>每 <input type="text" class="easyui-textbox" data-options="validType:['integer','length[0,2]']" style="width:100px;height:32px"  name="txtMinutes" id="txtMinutes" />分钟</td>
	                    </tr>
	                </table>
	            </div>
			</div>
			<div title="按小时" style="padding:10px;background-color:#E0ECFF">
				<div>	
	                <table>
	                    <tr>
	                        <td>每 <input class="easyui-textbox" data-options="validType:['integer','length[0,2]']" style="width:100px;;height:32px" name="txtHourly" id="txtHourly"/> 小时</td>
	                        
	                    </tr>
	                    <tr>
	                        <td>从 <input class="easyui-textbox" data-options="validType:['integer','length[0,2]']" style="width:100px;;height:32px" id="txtHour_begin"/>时到
	                             <input class="easyui-textbox" data-options="validType:['integer','length[0,2]']" style="width:100px;;height:32px"  id="txtHour_end"/> 时
	                        </td>
	                    </tr>
	                </table>
	            </div>
			</div>
			<div title="按天" style="padding:10px;background-color:#E0ECFF">
					 <div>
			                <table id="tabDay">
			                    <tr>
			                        <td>
			                            <label>
			                                <input type="radio" name="rad_day" value="-1"/>不关注
			                            </label>
			                        </td>
			                    </tr>
			                    <tr>
			                        <td><label><input type="radio" name="rad_day" value="0"/>
							                            从 <input class="easyui-textbox" style="width:100px;;height:25px" id="txtDaily_str0"/> 号开始
							                            每隔 <input class="easyui-textbox" style="width:100px;;height:25px" name="txtDaily" id="txtDaily"/> 天</label>
			                        </td>
			                    </tr>
			                    <tr>
			                        <td><label><input type="radio" name="rad_day" value="1"/>
							                            从 <input class="easyui-textbox" style="width:100px;;height:25px" id="txtDaily_str"/> 号
							                            到 <input class="easyui-textbox" style="width:100px;;height:25px" id="txtDaily_end"/> 号</label>
			                        </td>
			                    </tr>
			                    <tr>
			                        <td><label><input type="radio" name="rad_day" value="2"/>
		                          		 每月最后一天</label>
			                        </td>
			                    </tr>
			                    <tr>
			                        <td><label><input type="radio" name="rad_day" value="3"/>
			                           	 每月最后一个工作日</label>
			                        </td>
			                    </tr>
			                    <tr>
			                        <td><label><input type="radio" name="rad_day" value="4"/>
			                           	 离<input class="easyui-textbox" style="width:100px;;height:25px" id="txtDaily_last"/>号最近的一个工作日</label>
			                        </td>
			                    </tr>
			                </table>
		            </div>
			</div>
			<div title="按月" style="padding:10px;background-color:#E0ECFF">
					  <div>
			                <table id="tabMonth">
			                    <tr>
			                        <td><label><input type="radio" name="rad_month" value="-1"/>不关注 </label></td>
			                    </tr>
			                    <tr>
			                        <td><label><input type="radio" name="rad_month" value="0"/>
						                            从<input class="easyui-textbox" style="width:100px;;height:25px" id="choiceMonth_str0"/>
						                            开始每隔 <input class="easyui-textbox" style="width:100px;;height:25px" id="choiceMonth"/>个月</label>
			                        </td>
			                    </tr>
			                    <tr>
			                        <td><label>
			                        		<input type="radio" name="rad_month" value="1"/>
			                        		从<input class="easyui-textbox" style="width:100px;height:25px" id="choiceMonth_str"/>月
			                        		到<input class="easyui-textbox" style="width:100px;height:25px" id="choiceMonth_end"/>月
		                        		</label>
			                        </td>
			                    </tr>
			
			                </table>
			            </div>
			</div>
			<div title="按周" style="padding:10px;background-color:#E0ECFF">
					<div>
		                <table id="tabWeek">
		                    <tr>
		                        <td><label><input type="radio" name="rad_week" value="-1"/>不关注</label>
		                        </td>
		                    </tr>
		                    <tr>
		                        <td id="td_week"><label><input type="radio" name="rad_week" value="0"/>选择星期</label>
		                        	<select class="easyui-combobox" id="weeks" name="weeks" data-options="multiple:true,multiline:true" style="width:200px;height:40px">
		                        		<option value="Sun">周日</option>
										<option value="Mon" selected>周一</option>
										<option value="Tues">周二</option>
										<option value="Wed">周三</option>
										<option value="Thur">周四</option>
										<option value="Fri">周五</option>
										<option value="Sat">周六</option>
									</select>
		                        </td>
		                    </tr>
		                    <tr>
		                        <td>
		                            <label><input type="radio" name="rad_week" value="1"/>
		                            	选择星期<input class="easyui-textbox" style="width:100px;;height:25px" id="txtWeek_str"/>(数字1-7)
		                            	至星期<input class="easyui-textbox" style="width:100px;;height:25px" id="txtWeek_end"/>(数字1-7,1为星期日)</label>
		                        </td>
		                    </tr>
		                    <tr>
		                        <td>
		                            <label><input type="radio" name="rad_week" value="2"/>周末</label>
		                        </td>
		                    </tr>
		                    <tr>
		                        <td>
		                            <label><input type="radio" name="rad_week" value="3"/>本月周末</label>
		                        </td>
		                    </tr>
		                    <tr>
		                        <td>
		                            <label><input type="radio" name="rad_week" value="4"/>
		                            	第<input class="easyui-textbox" style="width:100px;;height:25px" id="txtWeek_how"/>个星期的周
		                                <input class="easyui-textbox" style="width:100px;;height:25px" id="txtWeek_day"/>几(例:第2个星期的周5)</label>
		                        </td>
		                    </tr>
		
		                </table>
		            </div>
			</div>
		</div>
		
		<div style="padding:10px;">
            <div class="tabsFooterContent" style="height: 65px; padding:0 auto; ">
                <span>第一次运行时间:
	                <input id="chk_first_run_hour" type="checkbox"/><select class="easyui-combobox" name="state" style="width:40px;"></select>点
	                <input id="chk_first_run_minute" type="checkbox"/><select class="easyui-combobox" name="state" style="width:40px;"></select>分
                </span>
                <!-- <c:set var="defaultCron" value="0 0 0 ? * ?"/> -->
                <div style="padding:5px;">CRON表达式： <input class="easyui-textbox" value="0 0 0 ? * ?" style="width: 200px" id="txt_cron"/></div>
            </div>
        </div>
		</div>
</div>
       	
<div id="dlgaddCon-buttons">
	<a href="javascript:void(0)" class="easyui-linkbutton" onclick="getCron();" iconcls="icon-edit" >生成表达式</a>
   	<a href="javascript:void(0)" class="easyui-linkbutton" onclick="saveCron();" iconcls="icon-save" >保存</a>
</div> 
